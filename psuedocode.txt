Creating Data is sometimes a two-request process...

Just a reminder that creating data functionality might be a two-request process:
1. First request displays a form for the user to enter the data
2. Second request to submit the form to the server where the data is created


The 5-step process to implementing CRUD functionality

When we build out CRUD functionality in most web apps, here is the process we will repeat over and over again:

1. Determine the "proper" route (HTTP Method & Endpoint). Use RESTful conventions whenever possible.https://gist.github.com/jim-clark/17908763db7bd3c403e6
2. Add the UI (link and/or form) that will trigger the HTTP request that matches the route.
3. Define the route in the appropriate router module that will match the HTTP request and map it to the <controller>.<method> that will perform the desired functionality.
4. Add the controller action/method and be sure to export it.
5. In the controller, perform necessary CRUD and either render (passing it data) in the case of a GET request, or redirect if data has been mutated (POST, PUT & DELETE). If rendering, code the view template if necessary.











DONE AAU, I want to view a list of all flights (index view) that displays each flight's airline, airport, flight no., and departure date/time.



    1. Determine the "proper" route (HTTP Method & Endpoint). 
        GET /flights
    2. Add the UI (link and/or form) that will trigger the HTTP request that matches the route.
        - From root route, add link that gets to flights/index.ejs
    3. Define the route in the appropriate router module that will match the HTTP request and map it to the <controller>.<method> that will perform the desired functionality.
        router.get('/flights/index', ... )
    4. Add the controller action/method and be sure to export it.

    5. In the controller, perform necessary CRUD and either render (passing it data) in the case of a GET request, or redirect if data has been mutated (POST, PUT & DELETE). If rendering, code the view template if necessary.



AAU, I want to create flights by entering the information on a page (new view) that has a form and submitting it.

    2 step request: 
        1st step: 
                
            1. Determine the "proper" route (HTTP Method & Endpoint). 

                GET /flights/new

            2. Add the UI (link and/or form) that will trigger the HTTP request that matches the route.

                link in the index view that navigates to: 
                views/flights/new.ejs

            3. Define the route in the appropriate router module that will match the HTTP request and map it to the <controller>.<method> that will perform the desired functionality.

                router.get('/new', flightsCtrl.new);

            4. Add the controller action/method and be sure to export it.
            5. In the controller, perform necessary CRUD and either render (passing it data) in the case of a GET request, or redirect if data has been mutated (POST, PUT & DELETE). If rendering, code the view template if necessary.

        2nd step: 

            1. Determine the "proper" route (HTTP Method & Endpoint). 
            2. Add the UI (link and/or form) that will trigger the HTTP request that matches the route.
            3. Define the route in the appropriate router module that will match the HTTP request and map it to the <controller>.<method> that will perform the desired functionality.
            4. Add the controller action/method and be sure to export it.
            5. In the controller, perform necessary CRUD and either render (passing it data) in the case of a GET request, or redirect if data has been mutated (POST, PUT & DELETE). If rendering, code the view template if necessary.

AAU, I want to be able to access each view via a navigation bar at the top of the page with links to: ALL FLIGHTS and ADD FLIGHT 

2 step request: 

        1st step: 
                
            1. Determine the "proper" route (HTTP Method & Endpoint). 
            2. Add the UI (link and/or form) that will trigger the HTTP request that matches the route.
            3. Define the route in the appropriate router module that will match the HTTP request and map it to the <controller>.<method> that will perform the desired functionality.
            4. Add the controller action/method and be sure to export it.
            5. In the controller, perform necessary CRUD and either render (passing it data) in the case of a GET request, or redirect if data has been mutated (POST, PUT & DELETE). If rendering, code the view template if necessary.

        2nd step: 

            1. Determine the "proper" route (HTTP Method & Endpoint). 
            2. Add the UI (link and/or form) that will trigger the HTTP request that matches the route.
            3. Define the route in the appropriate router module that will match the HTTP request and map it to the <controller>.<method> that will perform the desired functionality.
            4. Add the controller action/method and be sure to export it.
            5. In the controller, perform necessary CRUD and either render (passing it data) in the case of a GET request, or redirect if data has been mutated (POST, PUT & DELETE). If rendering, code the view template if necessary.








Mothballed time parser: 

function parseDate(flight) {
    const months = [`Jan`, `Feb`, 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
    const month = months[flight.departs.getMonth()];
    const day = flight.departs.getDate();
    const year = 1900 + flight.departs.getYear();
    const hour = flight.departs.getHours();
    const minute = flight.departs.getMinutes();
    const second = flight.departs.getSeconds();
    const parsedDate = `${month} ${day}, ${year} at ${hour}:${minute}:${second}`;
    console.log(parsedDate)
    return parsedDate;
}


Other option: 

default: function() {
      const today = new Date();
      const dd = String(today.getDate()).padStart(2, '0');
      const mm = String(today.getMonth() + 1).padStart(2, '0');
      const yyyy = today.getFullYear() + 1;
      return `${mm}/${dd}/${yyyy}`;
}